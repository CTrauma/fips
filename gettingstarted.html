<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Getting Started</title>
  <meta name="description" content="cmake-based high-level build system for multi-platform C/C++ projects
">

  <link rel="stylesheet" href="/fips/css/main.css">
  <link rel="canonical" href="http://floooh.github.com/fips/gettingstarted.html">
</head>


  <body>

    <header class="site-header">

    <!-- this is the 'fork me on github' label -->
    <a href="https://github.com/floooh/fips"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>

    <div class="site-title">
        fips
        <span class="site-subtitle">the friendly cmake wrapper</span>
    </div>
</header>




    <ul class="navigation">
    
        
        <li class="nav-item">
            <a href="/fips/index.html">About Fips</a>
        </li>
        
    
        
    
        
        <li class="nav-item">
            <a href="/fips/gettingstarted.html">Getting Started</a>
        </li>
        
    
        
        <li class="nav-item">
            <a href="/fips/buildconfigs.html">Build Configs</a>
        </li>
        
    
        
        <li class="nav-item">
            <a href="/fips/dirstruct.html">Directory Structure</a>
        </li>
        
    
        
        <li class="nav-item">
            <a href="/fips/crosscompiling.html">Cross-Compiling</a>
        </li>
        
    
</ul>



    <div class="page-content">
        <div>

  <article>
    <h1 id="getting-started-with-fips">Getting Started with fips</h1>

<p>This is a step-by-step guide from installing fips to building a<br />
sample ‘Hello World’ project.</p>

<h3 id="you-need">You need:</h3>

<ul>
  <li>Python 2.7.x</li>
  <li>CMake (at least version 2.8.11)</li>
  <li>a working C/C++ development environment for your OS (e.g. Xcode on OSX,<br />
make/gcc on Linux, Visual Studio on Windows)</li>
</ul>

<h3 id="setting-up-and-testing-fips">Setting up and testing fips:</h3>

<p>Clone the fips git repo into a separate directory, and check if the <br />
fips main script runs.</p>

<blockquote>
  <p>NOTE: on Windows, run ‘fips’ instead of ‘./fips’! </p>
</blockquote>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; <span class="nb">cd</span> ~
&gt; mkdir fips-workspace
&gt; <span class="nb">cd </span>fips-workspace
&gt; git clone https://github.com/floooh/fips.git
...
&gt; <span class="nb">cd </span>fips
&gt; ./fips
run <span class="s1">&#39;fips help&#39;</span> <span class="k">for</span> more info
&gt; _</code></pre></div>

<h3 id="showing-help">Showing help:</h3>

<p>Run ‘fips help’ to get an overview of available commands:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; ./fips <span class="nb">help</span>
fips: the high-level, multi-platform build system wrapper
v0.0.1
https://www.github.com/floooh/fips

fips build
fips build <span class="o">[</span>config<span class="o">]</span>
   perform a build <span class="k">for</span> current or named config
...
fips <span class="nb">unset </span>config
fips <span class="nb">unset </span>target
    <span class="nb">unset </span>currently active config or make-target

&gt; _</code></pre></div>

<p>You can show help for a specific command:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; ./fips <span class="nb">help </span>diag
fips diag
fips diag all
fips diag tools
fips diag configs
fips diag imports
    run diagnostics and check <span class="k">for</span> errors</code></pre></div>

<h3 id="check-if-required-tools-are-installed">Check if required tools are installed</h3>

<p>Run ‘fips diag tools’ to check whether the required command line<br />
tools are found by fips:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; ./fips diag <span class="nv">tools</span>
<span class="o">===</span> tools:
git:    found
cmake:    found
ccmake:    found
make:    found
ninja:    NOT FOUND
xcodebuild:    found</code></pre></div>

<p>Install any tools which are shown as ‘NOT FOUND’.</p>

<h3 id="clone-the-sample-project">Clone the sample project</h3>

<p>List the fips project registry, and clone the ‘Hello World’ sample<br />
project and its dependencies:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; ./fips list <span class="nv">registry</span>
<span class="o">===</span> registry:
...
fips-hello-world <span class="o">=</span>&gt; https://github.com/floooh/fips-hello-world.git
...</code></pre></div>

<p>Clone the ‘fips-hello-world’ sample project. It’s dependencies will also<br />
automatically be cloned from github:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; ./fips clone fips-hello-world
registry lookup: fips-hello-world <span class="o">=</span>&gt; https://github.com/floooh/fips-hello-world.git
Cloning into <span class="s1">&#39;fips-hello-world&#39;</span>...
remote: Counting objects: 66, <span class="k">done</span>.
remote: Compressing objects: 100% <span class="o">(</span>14/14<span class="o">)</span>, <span class="k">done</span>.
remote: Total <span class="m">66</span> <span class="o">(</span>delta 3<span class="o">)</span>, reused <span class="m">0</span> <span class="o">(</span>delta 0<span class="o">)</span>
Unpacking objects: 100% <span class="o">(</span>66/66<span class="o">)</span>, <span class="k">done</span>.
Checking connectivity... <span class="k">done</span>.
<span class="o">===</span> dependency: <span class="s1">&#39;fips-hello-dep1&#39;</span>:
Cloning into <span class="s1">&#39;fips-hello-dep1&#39;</span>...
remote: Counting objects: 64, <span class="k">done</span>.
remote: Compressing objects: 100% <span class="o">(</span>6/6<span class="o">)</span>, <span class="k">done</span>.
remote: Total <span class="m">64</span> <span class="o">(</span>delta 1<span class="o">)</span>, reused <span class="m">0</span> <span class="o">(</span>delta 0<span class="o">)</span>
Unpacking objects: 100% <span class="o">(</span>64/64<span class="o">)</span>, <span class="k">done</span>.
Checking connectivity... <span class="k">done</span>.
<span class="o">===</span> dependency: <span class="s1">&#39;fips-hello-dep2&#39;</span>:
Cloning into <span class="s1">&#39;fips-hello-dep2&#39;</span>...
remote: Counting objects: 60, <span class="k">done</span>.
remote: Compressing objects: 100% <span class="o">(</span>3/3<span class="o">)</span>, <span class="k">done</span>.
remote: Total <span class="m">60</span> <span class="o">(</span>delta 0<span class="o">)</span>, reused <span class="m">0</span> <span class="o">(</span>delta 0<span class="o">)</span>
Receiving objects: 100% <span class="o">(</span>60/60<span class="o">)</span>, 7.49 KiB <span class="p">|</span> <span class="m">0</span> bytes/s, <span class="k">done</span>.
Resolving deltas: 100% <span class="o">(</span>15/15<span class="o">)</span>, <span class="k">done</span>.
Checking connectivity... <span class="k">done</span>.
&gt; _</code></pre></div>

<h3 id="build-and-run-the-fips-hello-world-project">Build and run the fips-hello-world project:</h3>

<p>fips sample projects live side-by-side next to the fips directory,<br />
a fips project can be built by cd’ing to it, and running ‘./fips build’:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; <span class="nb">cd</span> ../fips-hello-world
&gt; ./fips <span class="nv">build</span>
<span class="o">===</span> dependency: <span class="s1">&#39;fips-hello-dep1&#39;</span>:
dir <span class="s1">&#39;/Users/floh/fips-workspace/fips-hello-dep1&#39;</span> <span class="nv">exists</span>
<span class="o">===</span> dependency: <span class="s1">&#39;fips-hello-dep2&#39;</span>:
dir <span class="s1">&#39;/Users/floh/fips-workspace/fips-hello-dep2&#39;</span> <span class="nv">exists</span>
<span class="o">===</span> building: osx-xcode-debug
<span class="o">===</span> generating: osx-xcode-debug
-- The C compiler identification is AppleClang 6.0.0.6000056
-- The CXX compiler identification is AppleClang 6.0.0.6000056
-- Check <span class="k">for</span> working C compiler using: Xcode
-- Check <span class="k">for</span> working C compiler using: Xcode -- works
...
** BUILD SUCCEEDED **

<span class="m">1</span> configs built
&gt; _</code></pre></div>

<p>Now run the compiled ‘hello’ executable:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; ./fips run <span class="nv">hello</span>
<span class="o">===</span> run <span class="s1">&#39;hello&#39;</span> <span class="o">(</span>config: osx-xcode-debug, project: fips-hello-world<span class="o">)</span>:
Hello World!
Hello from dep1
Hello from dep2!
Imported string define: Bla
Imported int define: 1
&gt; _</code></pre></div>

<h3 id="working-with-build-configs">Working with build configs</h3>

<p>A build config describes how to build a project for different <br />
platforms, build tools and build modes. Run ‘fips list configs’ to see<br />
a list of available configs:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; fips list <span class="nv">configs</span>
<span class="o">===</span> configs:
/Users/floh/fips-workspace/fips:
  android-make-debug
  android-make-release
  androidmips-make-debug
  androidmips-make-release
  androidx86-make-debug
  androidx86-make-release
  emsc-make-debug
  emsc-make-release
...
  osx-xcode-unittest
  pnacl-make-debug
  pnacl-make-release
  pnacl-ninja-debug
  pnacl-ninja-release
&gt; _</code></pre></div>

<p>There is no hard rule for build config names, but usually they are made<br />
from 3 parts, first the target platform name (e.g. osx, linux, win32), <br />
then the build tool (e.g. make, xcode, vstudio) and the build mode (e.g.<br />
debug, release).</p>

<p>Not all build configs are supported on a given host platform, for instance it<br />
is not possible to build for iOS on Windows or Linux platforms.</p>

<p>It is possible to select a build config when building, for instance on <br />
OSX it is possible to use make instead of xcodebuild, the build result<br />
is the same, but the console output looks prettier:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; ./fips build osx-make-release
<span class="o">===</span> dependency: <span class="s1">&#39;fips-hello-dep1&#39;</span>:
dir <span class="s1">&#39;/Users/floh/fips-workspace/fips-hello-dep1&#39;</span> <span class="nv">exists</span>
<span class="o">===</span> dependency: <span class="s1">&#39;fips-hello-dep2&#39;</span>:
dir <span class="s1">&#39;/Users/floh/fips-workspace/fips-hello-dep2&#39;</span> <span class="nv">exists</span>
<span class="o">===</span> building: osx-make-debug
<span class="o">===</span> generating: osx-make-debug
-- The C compiler identification is AppleClang 6.0.0.6000056
...
&gt; _</code></pre></div>

<p>To start from scratch and clean all generated files, run ‘fips clean all’:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">&gt; ./fips clean <span class="nv">all</span>
<span class="o">===</span> clean: android-make-debug
<span class="o">===</span> clean: android-make-release
...
<span class="o">===</span> clean: pnacl-ninja-debug
<span class="o">===</span> clean: pnacl-ninja-release
&gt; _</code></pre></div>


  </article>

</div>

    </div>

  </body>

</html>
